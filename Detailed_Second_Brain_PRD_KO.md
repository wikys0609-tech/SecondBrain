# [PRD] 지능형 세컨드 브레인 시스템: My Digital Synapse

## 1. 프로젝트 배경 및 목적
사용자가 일상에서 접하는 텍스트, 링크, 영상, 이미지 등의 다양한 정보를 한곳에 모으고, 이를 지능적으로 분석·분류하여 개인의 지식 체계를 구축하는 것을 목적으로 합니다. 특히 노션의 구조적 장점과 옵시디언의 연결성 장점을 결합하여 웹 기반의 개인화된 시스템을 구축합니다.

## 2. 제품 비전
- **"던지면 정리되는 시스템":** 사용자의 정리 부담을 최소화하는 자동화된 워크플로우.
- **"살아있는 지식 네트워크":** 데이터 간의 연결을 통해 단순 저장을 넘어 통찰을 제공.

## 3. 핵심 사용자 흐름 (User Workflow)
1. **데이터 입력:** 웹 UI를 통해 텍스트 작성, 링크 복사, 이미지 업로드 중 선택.
2. **분류 모드 선택:**
    - **수동:** 기존 분야(예: Pixel Rest, 재무/투자, AI 강의 등) 선택.
    - **자동:** 시스템이 내용을 분석하여 기존 분야 매칭 또는 신규 분야 생성.
3. **데이터 처리:**
    - 텍스트 분석 및 3줄 요약 생성.
    - 원본 데이터의 성격에 따른 분기 저장 (Drive/Sheets).
4. **확인 및 연결:** 저장된 데이터 확인 및 `[[ ]]`를 통한 다른 노트와의 연결.

## 4. 상세 기능 요구사항

### 4.1. 데이터 수집 및 분석 (Capture & Intelligence)
- **멀티 소스 지원:** 텍스트, 웹 URL, 유튜브 링크, 이미지 파일 지원.
- **자동 요약 엔진:** 입력된 소스에서 핵심 내용을 추출하여 요약본 작성.
- **동적 카테고리 관리:** - 분야 미지정 시 키워드 분석을 통해 카테고리 판별.
    - 기존에 없던 분야일 경우 구글 드라이브 내 새 폴더를 자동으로 생성하고 시트에 등록.

### 4.2. 데이터 저장 시스템 (Storage Strategy)
- **Google Sheets (Index):** 모든 데이터의 메타데이터(날짜, 분야, 제목, 타입, 요약, 경로) 관리.
- **Google Drive (Assets):**
    - **텍스트:** `[카테고리]/[날짜]_[제목].txt` 형식으로 저장.
    - **이미지:** `[카테고리]/Media/` 폴더 내에 저장.
    - **링크/영상:** 시트 내 하이퍼링크로 저장.

### 4.3. 사용자 인터페이스 (UI/UX)
- **대시보드:** 최근 수집한 항목과 분야별 퀵 링크 제공.
- **에디터:** 마크다운 편집 기능 및 위키링크(`[[ ]]`) 자동 완성 지원.
- **그래프 뷰:** 데이터 간의 연결성을 시각적으로 탐색할 수 있는 인터랙티브 맵.

## 5. 기술 스택 및 아키텍처
- **Frontend:** GitHub Pages 기반의 정적 웹 (HTML, CSS, JS).
- **Backend Bridge:** Google Apps Script (GAS) API.
- **Database:** Google Sheets API & Google Drive API.

## 6. 데이터 스키마 (Google Sheets)
| 컬럼 | 설명 |
| :--- | :--- |
| 일시 | 데이터가 입력된 날짜와 시간 |
| 분야 | 사용자가 선택하거나 시스템이 판별한 카테고리 |
| 제목 | 수집 데이터의 제목 (또는 요약 제목) |
| 타입 | Text, Link, Video, Image 구분 |
| 요약 | 시스템이 생성한 3줄 내외의 요약문 |
| 경로 | 구글 드라이브 파일 ID 또는 웹 URL |
| 태그 | 검색 및 연결을 위한 키워드 리스트 |


## 7. 재정리
[PRD] 지능형 세컨드 브레인 시스템: My Digital Synapse

1. 프로젝트 개요
 - 제품 명칭 : My Digital Synapse (마이 디지털 시냅스)
 - 제품 비전 : 파편화된 일상의 기록을 자동으로 분류·연결하여 지식의 자산화를 돕는 지능형 웹 저장소.
 - 핵심 가치 : 저항 없는 수집 - 형식에 구애받지 않는 자유로운 입력.
   -- 지능적 자동화 : 수동 분류의 번거로움을 최소화하는 자동 요약 및 분류.
   -- 확장성 : 관심사에 따라 스스로 진화하는 카테고리 시스템.

2. 하이브리드 데이터 처리 로직
사용자가 데이터를 입력할 때, 시스템은 다음과 같은 우선순위로 작동합니다.
 - 사용자 지정 분류 (Manual) : 사용자가 '재무', 'Pixel Rest', 'AI 강의' 등 기존 분야를 직접 선택하면 해당 위치로 즉시 분류됩니다.
 - 지능형 자동 분류 (Auto) : 분야를 선택하지 않을 경우, 입력 내용에서 핵심 키워드를 추출하여 다음 과정을 거칩니다.
    -- 기존 분야 리스트와 대조하여 유사도가 높은 분야로 자동 배정.
    -- 매칭되는 분야가 없을 경우, 새로운 카테고리명(예: 철학, 과학)을 생성하고 관련 인프라(폴더 등)를 구축.

3. 상세 기능 요구사항 (Functional Requirements)

구분 || 기능명 || 상세 설명 ||
수집(Capture) || 멀티 포맷 인풋 || 텍스트, 웹 링크, 유튜브 영상, 이미지 파일을 한곳에서 입력.
수집(Capture) || 스마트 드롭다운 || 기존 분야(Pixel Rest, 재무 등)를 빠르게 선택할 수 있는 검색형 필터 제공.
분석(Analyze) || 자동 요약기 || 모든 텍스트/링크 소스에 대해 3줄 핵심 요약을 생성하여 메타데이터화.
분석(Analyze) || 신규 분야 탐지 || 새로운 주제 유입 시, 시트에 기록하고 드라이브에 새 폴더를 생성하는 트리거 실행.
저장(Store) || Txt 변환 저장 || 텍스트 소스는 가독성 및 보관을 위해 .txt파일로 변환하여 구글 드라이브에 저장.
저장(Store) || 이미지 아카이빙 || 업로드된 이미지는 날짜와 카테고리가 포함된 파일명으로 드라이브에 저장.
저장(Store) || 시트 인덱싱 || 링크와 영상 정보는 구글 시트에 행 단위로 누적 관리.
연결(Connect) || 양방향 위키링크 || [[노트제목]]을 입력하면 관련 노트들이 상호 연결되는 백링크 기능.
연결(Connect) || 그래프 뷰 || 지식 간의 연결 관계를 D3.js 등을 활용해 시각적 노드로 표현.


4. 기술 사양 및 데이터 구조
 - 배포 환경 : GitHub Pages (정적 호스팅)
 - 프론트엔드 : HTML5, Tailwind CSS, Vanilla JavaScript (또는 React CDN)
 - 백엔드 서비스 : Google Apps Script (GAS)
    -- doPost(e)함수를 통해 데이터 수신 및 구글 서비스 제어.
 - 데이터베이스 : Google Sheets - 마스터 로그(날짜, 분야, 제목, 요약, 파일링크).
    -- Google Drive : 분야별 폴더 트리 구성 및 실제 파일(.txt, .png등) 보관.

5. 개발 로드맵 (Milestones)
 - Phase 1 (인프라) : 구글 시트/드라이브 API 연동 및 기본적인 데이터 저장 확인.
 - Phase 2 (지능화) : 텍스트 분석 로직 구현 및 조건부 카테고리 자동 생성 기능 개발.
 - Phase 3 (UI/UX) : 마크다운 에디터 적용, 분야별 필터링 뷰 및 그래프 시각화 구현.